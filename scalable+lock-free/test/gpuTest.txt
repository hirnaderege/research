GPU Allocator Testing
=====================

Using GPU: NVIDIA A30
Compute Capability: 8.0
Max Threads per Block: 1024
Multiprocessors: 56


=== Test Configuration ===
Press Enter to use default values

Threads per block [32-1024] (default: 256): Number of blocks [1-3584] (default: 16): Iterations per thread [100-10000] (default: 1000): 
Configuration:
  Threads per block: 256
  Number of blocks: 16
  Total threads: 4096
  Iterations: 1000


========================================
   COMPREHENSIVE ALLOCATOR COMPARISON
========================================

--- 1. GPU Slab Allocator ---
=== GPU Allocator Test ===
Configuration:
  Threads per block: 256
  Number of blocks: 16
  Total threads: 4096
  Iterations: 1000

Launching kernel...

GPU Results:
Duration: 1377837 μs
Threads: 4096
Allocs: 737669
Frees: 737669
Failures: 39920
Throughput: 1.07076e+06 ops/sec
Success rate: 97.3655%
:) No leaks detected

--- 2. GPU Standard CUDA malloc/free ---
=== CUDA Malloc/Free Test ===
Configuration:
  Threads per block: 256
  Number of blocks: 16
  Total threads: 4096
  Iterations: 1000

Launching kernel...

CUDA Malloc Results:
Duration: 307640727 μs
Allocs: 1483832
Frees: 1483832
Failures: 1387525
Throughput: 9646.53 ops/sec
Success rate: 68.1409%

========================================
   COMPARISON COMPLETE
========================================

Run stress test? (y/n): === GPU Stress Test ===
Launching 16384 threads for stress test...

GPU Stress Results:
Duration: 3000ms
Total Threads: 16384
Allocs: 1896520
Frees: 1895948
Failures: 40125
Leaks: 572
Throughput: 1264156 ops/sec
:( Leaks detected under GPU stress!

All GPU tests completed!
